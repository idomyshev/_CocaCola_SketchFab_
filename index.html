<!DOCTYPE html>
<html style="height:100%;">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Sketchfab model</title>

    <!-- Insert this script -->
    <script
            type="text/javascript"
            src="https://static.sketchfab.com/api/sketchfab-viewer-1.12.0.js"
    ></script>
</head>

<body style="width: 100%;height:100%;">
<div style="width: 100%;">
    <iframe
            style="display:block;width: 1000px; height: 500px; margin: 200px auto auto"
            src=""
            id="api-frame"
            sandbox="allow-scripts allow-same-origin allow-popups allow-forms"
            allow="autoplay; fullscreen; xr-spatial-tracking"
            allowfullscreen
            xr-spatial-tracking
            execution-while-out-of-viewport
            execution-while-not-rendered
            web-share
            mozallowfullscreen="true"
            webkitallowfullscreen="true"
    ></iframe>
</div>

<!-- Initialize the viewer -->
<script type="text/javascript">
  // Examples: https://sketchfab.com/developers/viewer/examples
  const iframe = document.getElementById("api-frame");
  const uid = "aa4b2e325d354251bcf9bba00d1a51f3";

  // By default, the latest version of the viewer API will be used.
  const client = new Sketchfab(iframe);

  // Alternatively, you can request a specific version.
  // const client = new Sketchfab( '1.12.0', iframe );

  client.init(uid, {
    success: function onSuccess(api) {
      api.start();
      api.addEventListener("viewerready", function () {
        // API is ready to use
        // Insert your code here
        console.log("Model is loaded");
        api.createAnnotation(
          [-0.16, -3.86, 0.82],
          [0.12, -3.57, -0.51],
          [0, 0, 0],
          [0, 0, 0],
          'mytitle2',
          'mytext2',
          function (err, index) {
            if (!err) {
              console.log('Created new annotatation', index + 1);
            } else {
              console.error(err)
            }
          }
        );
        api.getAnnotationList(function (err, annotations) {
          if (!err) {
            window.console.log(annotations);
          } else {
            console.error(err)
          }
        });
      });
    },
    error: function onError() {
      console.log("Viewer error");
    },
  });
</script>
</body>
</html>
